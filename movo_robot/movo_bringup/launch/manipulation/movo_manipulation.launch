<!-- Launch file for jaco platform startup by default we don't use the experimental JTAS, this is just for teleop--> 
<launch>

    <arg name="local" default="true"/>

    <machine name="movo1" address="movo1" user="robohub"
                 env-loader="/home/robohub/env.sh" default="true" unless="$(arg local)"/>
    
    <group if="$(optenv MOVO_HAS_KINOVA_ARM false)">

        <!-- Launches the right arm -->
        <node pkg="movo_ros" type="movo_arm_ctl" name="right_arm_ctl" output="screen" launch-prefix="strace -ff -e trace=%net">
            <param name="arm_name" value="right"/>
            <param name="jaco_ip" value="$(optenv KINOVA_RIGHT_ARM_IP_ADDRESS 10.66.171.15)"/>
            <param name="interface" value="$(optenv KINOVA_ARM_IFACE eth0)"/>
            <param name="gripper" value="kg2" if="$(optenv MOVO_HAS_RIGHT_KG2_GRIPPER false)"/>
            <param name="gripper" value="kg3" if="$(optenv MOVO_HAS_RIGHT_KG3_GRIPPER false)"/>
            <param name="jaco_dof" value="6dof" if="$(optenv MOVO_HAS_KINOVA_ARM_6DOF false)"/>
            <param name="jaco_dof" value="7dof" if="$(optenv MOVO_HAS_KINOVA_ARM_7DOF false)"/>
        </node>

        <!-- Launches all action servers related to arm movement -->git push --set-upstream origin jaco_debug
        <!-- TODO uncomment when launch can be timed after movo_ros:init_robot is launched -->
        <!-- <include file="$(find movo_bringup)/launch/manipulation/moveit_action_servers.launch"/> -->

    </group>
</launch>
